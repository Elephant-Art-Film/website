---
import iconBars from '../icons/bars.svg?raw';
import iconXmark from '../icons/xmark.svg?raw';

import iconInstagram from '../icons/instagram.svg?raw';
import iconYoutube from '../icons/youtube.svg?raw';
import iconTwitter from '../icons/twitter.svg?raw';
import iconFacebook from '../icons/facebook.svg?raw';
import iconMail from '../icons/email.svg?raw';
import iconRSS from '../icons/rss.svg?raw';

interface Props {
	title: string;
	description: string;
	showLogo?: boolean;
}

const { title, description, showLogo = false } = Astro.props;

const currentYear = new Date().getFullYear();
---

<!doctype html>
<html lang="en" class="text-gray-300 bg-zinc-800">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
		<meta name="generator" content={Astro.generator} />

		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		<link rel="manifest" href="/site.webmanifest" />
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
		<meta name="msapplication-TileColor" content="#da532c" />
		<meta name="theme-color" content="#ffffff" />

		<title>{title}</title>
		<meta name="description" content={description} />

		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap"
			rel="stylesheet"
		/>

		<style is:global>
		/* Default site font (UI, navigation, headings) */
		html, body {
			font-family: Montserrat, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
		}

		/* Film long-form content (description, awards, credits, Q&A) */
		#film-content {
			font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
		}
		</style>


	</head>
	<body>
		<header
			id="menu"
			class="-translate-x-full xl:translate-x-0 xl:flex flex-col justify-center h-screen fixed top-0 left-0 z-10 xl:w-1/4 2xl:w-1/3 p-8 2xl:p-32 bg-black bg-blend-saturation duration-500 xl:duration-0"
		>
			<div
				id="menu-close"
				class="xl:hidden absolute left-0 top-0 fill-gray-300 hover:fill-gray-100 w-6 m-4 cursor-pointer"
			>
				<Fragment set:html={iconXmark} />
			</div>
			<a href="https://elephant-art-film.com/">
				<img
					src="/assets/brand/elephant-official-square.webp"
					alt="ELEPHANT art film productions"
					class="rounded-full w-48 xl:w-64 mx-auto"
				/>
			</a>
			<nav class="w-full py-8 font-semibold text-lg xl:text-2xl">
				<a href="/">
					<div class="text-center py-3 hover:bg-zinc-900">HOME</div>
				</a>
				<a href="/films">
					<div class="text-center py-3 hover:bg-zinc-900">FILMS</div>
				</a>
				<a href="/news">
					<div class="text-center py-3 hover:bg-zinc-900">NEWS</div>
				</a>
				<a href="/about">
					<div class="text-center py-3 hover:bg-zinc-900">ABOUT US</div>
				</a>
			</nav>
			<div class="flex w-full py-4 justify-center fill-white">
				<a
					href="https://www.instagram.com/elephantartfilm"
					target="_blank"
					class="mx-2 w-7 hover:brightness-75"
					aria-label="Instagram"
				>
					<Fragment set:html={iconInstagram} />
				</a>
				<a
					href="https://www.youtube.com/@elephantartfilm"
					target="_blank"
					class="mx-2 w-7 hover:brightness-75"
					aria-label="Youtube"
				>
					<Fragment set:html={iconYoutube} />
				</a>
				<a
					href="https://twitter.com/ElephantArtFilm"
					target="_blank"
					class="mx-2 w-7 hover:brightness-75"
					aria-label="Twitter"
				>
					<Fragment set:html={iconTwitter} />
				</a>
				<a
					href="https://www.facebook.com/profile.php?id=100089908492635"
					target="_blank"
					class="mx-2 w-7 hover:brightness-75"
					aria-label="Facebook"
				>
					<Fragment set:html={iconFacebook} />
				</a>
				<a
					href="mailto:elephantartfilm@gmail.com"
					target="_blank"
					class="mx-2 w-7 hover:brightness-75"
					aria-label="Email"
				>
					<Fragment set:html={iconMail} />
				</a>
				<a
					href="/news/feed.xml"
					target="_blank"
					class="mx-2 w-6 hover:brightness-75 fill-gray-300"
					aria-label="RSS"
				>
					<Fragment set:html={iconRSS} />
				</a>
			</div>
		</header>

		<div class="flex flex-col h-screen xl:ml-1/4 2xl:ml-1/3">
			<div class="xl:hidden bg-black">
				<div
					id="menu-open"
					class="xl:hidden fill-gray-300 hover:fill-gray-100 w-6 m-4 cursor-pointer"
					class:list={{ 'mb-0': showLogo }}
				>
					<Fragment set:html={iconBars} />
				</div>
				{
					showLogo && (
						<a href="https://elephant-art-film.com/">
							<img
								src="/assets/brand/elephant-official-square.webp"
								alt="ELEPHANT art film productions"
								class="rounded-full w-48 mx-auto"
							/>
						</a>
					)
				}
			</div>
			<main class="m-12 mt-8 xl:mt-16 2xl:mx-48">
				<slot />
			</main>
			<footer class="text-center font-light pb-8 pt-4 mt-auto">
				Copyright &copy; 2019&ndash;{currentYear} ELEPHANT art film production
			</footer>
		</div>
	</body>
</html>

<script>
	document.getElementById('menu-open')?.addEventListener('click', () => {
		let menu = document.getElementById('menu');
		menu?.classList.remove('-translate-x-full');
	});

	document.getElementById('menu-close')?.addEventListener('click', () => {
		let menu = document.getElementById('menu');
		menu?.classList.add('-translate-x-full');
	});
</script>
