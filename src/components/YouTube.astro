---
interface Props {
  id: string;
  class?: string;
}

const { id, class: classes } = Astro.props;
const embedUrl = `https://www.youtube.com/embed/${id}`;
---

<div class={`yt-embed ${classes ?? ""}`}>
  <iframe
    src={embedUrl}
    title="YouTube video player"
    loading="lazy"
    referrerpolicy="strict-origin-when-cross-origin"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen
  ></iframe>
</div>

<style>
  .yt-embed {
    /* prevents “drift” in grid/flex/centered text contexts */
    display: block;
    width: 100%;
    max-width: 100%;
    margin-inline: 0;          /* align with content column */
    justify-self: stretch;     /* if parent is a grid */
    align-self: start;         /* if parent is flex */

    position: relative;
    aspect-ratio: 16 / 9;
    overflow: hidden;

    border-radius: 14px;
    background: #0f0f10;
    box-shadow:
      0 8px 24px rgba(0, 0, 0, 0.08),
      0 2px 6px rgba(0, 0, 0, 0.06);
  }

  .yt-embed iframe {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    border: 0;
    display: block;            /* avoids inline iframe quirks */
    border-radius: inherit;
  }
</style>
